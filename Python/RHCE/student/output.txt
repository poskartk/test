[student@base ~]$ su -
Password: 
su: Authentication failure
[student@base ~]$ su -
Password: 
Last login: Mon Dec 12 10:24:03 CET 2022 from 89.64.39.143 on pts/0
Last failed login: Mon Dec 12 10:25:12 CET 2022 on pts/1
There was 1 failed login attempt since the last successful login.
[root@base ~]# virsh list --list
error: command 'list' doesn't support option --list
[root@base ~]# virsh list -all
error: unexpected data '-all'
[root@base ~]# virsh list --all
 Id   Name       State
--------------------------
 1    katowice   running
 2    wroclaw    running
 3    gdansk     running
 4    poznan     running

[root@base ~]# vim inventory.cfg
[root@base ~]# cat inventory.cfg
poznan
gdansk
katowice
wroclaw
[root@base ~]# useradd ansible
[root@base ~]# passwd ansible
Changing password for user ansible.
New password: 
BAD PASSWORD: The password is shorter than 8 characters
Retype new password: 
passwd: all authentication tokens updated successfully.
[root@base ~]# su - student
Last login: Mon Dec 12 10:24:50 CET 2022 on tty2
[student@base ~]$ ssh student@wrocalw
ssh: Could not resolve hostname wrocalw: Name or service not known
[student@base ~]$ ssh student@wroclaw
The authenticity of host 'wroclaw (10.10.1.10)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'wroclaw,10.10.1.10' (ECDSA) to the list of known hosts.
student@wroclaw's password: 
Activate the web console with: systemctl enable --now cockpit.socket

[student@wroclaw ~]$ exit
logout
Connection to wroclaw closed.
[student@base ~]$ ssh-keygen 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/student/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/student/.ssh/id_rsa.
Your public key has been saved in /home/student/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:pHp/LfETNyRverq7O5tCODw+VgWS+n4sJn/hYBdgEsQ student@base.domain1.local
The key's randomart image is:
+---[RSA 3072]----+
|     oo. .       |
|      E = .      |
|       +.o .     |
|      .o  . o .  |
|      .oS. o +   |
|     .  O * . =  |
|    . .+ X = = . |
|     ...B O *..  |
|       =o* oO@   |
+----[SHA256]-----+
[student@base ~]$ ssh student@katowice
The authenticity of host 'katowice (10.10.1.20)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'katowice,10.10.1.20' (ECDSA) to the list of known hosts.
student@katowice's password: 
Activate the web console with: systemctl enable --now cockpit.socket

[student@katowice ~]$ ssh-keygen 
Generating public/private rsa key pair.
Enter file in which to save the key (/home/student/.ssh/id_rsa): 
Created directory '/home/student/.ssh'.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/student/.ssh/id_rsa.
Your public key has been saved in /home/student/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:vcZUnosnY01j2BDP9DpCDU/Sx+JCbGGaLXGZSmuAhX0 student@katowice.domain1.local
The key's randomart image is:
+---[RSA 3072]----+
|     =. ..B=o.   |
|    o o EB*@o.o  |
|       ++=+.*o.  |
|        ++.*.o   |
|       .S =.X    |
|         o B +   |
|          O +    |
|         o +     |
|                 |
+----[SHA256]-----+
[student@katowice ~]$ ssh-copy-id  student@gdansk
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/student/.ssh/id_rsa.pub"
The authenticity of host 'gdansk (10.10.1.40)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
student@gdansk's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'student@gdansk'"
and check to make sure that only the key(s) you wanted were added.

[student@katowice ~]$ ssh-copy-id  student@poznan
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/student/.ssh/id_rsa.pub"
The authenticity of host 'poznan (10.10.1.30)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
student@poznan's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'student@poznan'"
and check to make sure that only the key(s) you wanted were added.

[student@katowice ~]$ ssh-copy-id  student@wroclaw
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/student/.ssh/id_rsa.pub"
The authenticity of host 'wroclaw (10.10.1.10)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
student@wroclaw's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'student@wroclaw'"
and check to make sure that only the key(s) you wanted were added.

[student@katowice ~]$ vim inventory.cfg
[student@katowice ~]$ cat inventory.cfg 
poznan
gdansk
wroclaw
[student@katowice ~]$ pwd
/home/student
[student@katowice ~]$ ls
inventory.cfg
[student@katowice ~]$ vim ansible.cfg
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user =  student
inventory = inventory.cfg
[student@katowice ~]$ ansible all -m ping
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "pong"
}
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "pong"
}
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "pong"
}
[student@katowice ~]$ cat inventory.cfg 
poznan
gdansk
wroclaw
[student@katowice ~]$ ansible-doc -l
a10_server                                                    Manage A10 Networks AX/SoftAX/Thunder/vThunder devices' server object                  
a10_server_axapi3                                             Manage A10 Networks AX/SoftAX/Thunder/vThunder devices                                 
a10_service_group                                             Manage A10 Networks AX/SoftAX/Thunder/vThunder devices' service groups                 
a10_virtual_server                                            Manage A10 Networks AX/SoftAX/Thunder/vThunder devices' virtual servers                
aci_aaa_user                                                  Manage AAA users (aaa:User)                                                            
aci_aaa_user_certificate                                      Manage AAA user certificates (aaa:UserCert)                                            
aci_access_port_block_to_access_port                          Manage port blocks of Fabric interface policy leaf profile interface selectors (infra:H...
aci_access_port_to_interface_policy_leaf_profile              Manage Fabric interface policy leaf profile interface selectors (infra:HPortS, infra:Rs...
aci_access_sub_port_block_to_access_port                      Manage sub port blocks of Fabric interface policy leaf profile interface selectors (inf...
aci_aep                                                       Manage attachable Access Entity Profile (AEP) objects (infra:AttEntityP, infra:ProvAcc)
aci_aep_to_domain                                             Bind AEPs to Physical or Virtual Domains (infra:RsDomP)                                
aci_ap                                                        Manage top level Application Profile (AP) objects (fv:Ap)                              
aci_bd                                                        Manage Bridge Domains (BD) objects (fv:BD)                                             
aci_bd_subnet                                                 Manage Subnets (fv:Subnet)                                                             
aci_bd_to_l3out                                               Bind Bridge Domain to L3 Out (fv:RsBDToOut)                                            
aci_config_rollback                                           Provides rollback and rollback preview functionality (config:ImportP)                  
aci_config_snapshot                                           Manage Config Snapshots (config:Snapshot, config:ExportP)                              
aci_contract                                                  Manage contract resources (vz:BrCP)                                                    
aci_contract_subject                                          Manage initial Contract Subjects (vz:Subj)                                             
aci_contract_subject_to_filter                                Bind Contract Subjects to Filters (vz:RsSubjFiltAtt)                                   
aci_domain                                                    Manage physical, virtual, bridged, routed or FC domain profiles (phys:DomP, vmm:DomP, l...
aci_domain_to_encap_pool                                      Bind Domain to Encap Pools (infra:RsVlanNs)                                            
aci_domain_to_vlan_pool                                       Bind Domain to VLAN Pools (infra:RsVlanNs)                                             
aci_encap_pool                                                Manage encap pools (fvns:VlanInstP, fvns:VxlanInstP, fvns:VsanInstP)                   
aci_encap_pool_range                                          Manage encap ranges assigned to pools (fvns:EncapBlk, fvns:VsanEncapBlk)               
aci_epg                                                       Manage End Point Groups (EPG) objects (fv:AEPg)                                        
aci_epg_monitoring_policy                                     Manage monitoring policies (mon:EPGPol)                                                
aci_epg_to_contract                                           Bind EPGs to Contracts (fv:RsCons, fv:RsProv)                                          
aci_epg_to_domain                                             Bind EPGs to Domains (fv:RsDomAtt)                                                     
aci_fabric_node                                               Manage Fabric Node Members (fabric:NodeIdentP)                                         
[student@katowice ~]$ ansible-doc -l|grep win
ec2_win_password                                              gets the default administrator password for ec2 windows instances                      
fortios_dlp_fp_doc_source                                     Create a DLP fingerprint database by allowing the FortiGate to access a file server con...
pagerduty                                                     Create PagerDuty maintenance windows                                                   
statusio_maintenance                                          Create maintenance windows for your status.io dashboard                                
win_acl                                                       Set file/directory/registry permissions for a system user or group                     
win_acl_inheritance                                           Change ACL inheritance                                                                 
win_audit_policy_system                                       Used to make changes to the system wide Audit Policy                                   
win_audit_rule                                                Adds an audit rule to files, folders, or registry keys                                 
win_certificate_store                                         Manages the certificate store                                                          
win_chocolatey                                                Manage packages using chocolatey                                                       
win_chocolatey_config                                         Manages Chocolatey config settings                                                     
win_chocolatey_facts                                          Create a facts collection for Chocolatey                                               
win_chocolatey_feature                                        Manages Chocolatey features                                                            
win_chocolatey_source                                         Manages Chocolatey sources                                                             
win_command                                                   Executes a command on a remote Windows node                                            
win_copy                                                      Copies files to remote locations on windows hosts                                      
win_credential                                                Manages Windows Credentials in the Credential Manager                                  
win_defrag                                                    Consolidate fragmented files on local volumes                                          
win_disk_facts                                                Show the attached disks and disk information of the target host                        
win_disk_image                                                Manage ISO/VHD/VHDX mounts on Windows hosts                                            
win_dns_client                                                Configures DNS lookup on Windows hosts                                                 
win_dns_record                                                Manage Windows Server DNS records                                                      
win_domain                                                    Ensures the existence of a Windows domain                                              
win_domain_computer                                           Manage computers in Active Directory                                                   
win_domain_controller                                         Manage domain controller/member server state for a Windows host                        
win_domain_group                                              Creates, modifies or removes domain groups                                             
win_domain_group_membership                                   Manage Windows domain group membership                                                 
win_domain_membership                                         Manage domain/workgroup membership for a Windows host                                  
win_domain_user                                               Manages Windows Active Directory user accounts                                         
win_dotnet_ngen                                               Runs ngen to recompile DLLs after .NET  updates                                        
win_dsc                                                       Invokes a PowerShell DSC configuration                                                 
win_environment                                               Modify environment variables on windows hosts                                          
win_eventlog                                                  Manage Windows event logs                                                              
win_eventlog_entry                                            Write entries to Windows event logs                                                    
win_feature                                                   Installs and uninstalls Windows Features on Windows Server                             
win_file                                                      Creates, touches or removes files or directories                                       
win_file_version                                              Get DLL or EXE file build version                                                      
win_find                                                      Return a list of files based on specific criteria                                      
win_firewall                                                  Enable or disable the Windows Firewall                                                 
win_firewall_rule                                             Windows firewall automation                                                            
win_format                                                    Formats an existing volume or a new volume on an existing partition on Windows         
win_get_url                                                   Downloads file from HTTP, HTTPS, or FTP to node                                        
win_group                                                     Add and remove local groups                                                            
win_group_membership                                          Manage Windows local group membership                                                  
win_hostname                                                  Manages local Windows computer name                                                    
win_hosts                                                     Manages hosts file entries on Windows                                                  
win_hotfix                                                    Install and uninstalls Windows hotfixes                                                
win_http_proxy                                                Manages proxy settings for WinHTTP                                                     
win_iis_virtualdirectory                                      Configures a virtual directory in IIS                                                  
win_iis_webapplication                                        Configures IIS web applications                                                        
win_iis_webapppool                                            Configure IIS Web Application Pools                                                    
win_iis_webbinding                                            Configures a IIS Web site binding                                                      
win_iis_website                                               Configures a IIS Web site                                                              
win_inet_proxy                                                Manages proxy settings for WinINet and Internet Explorer                               
win_lineinfile                                                Ensure a particular line is in a file, or replace an existing line using a back-referen...
win_mapped_drive                                              Map network drives for users                                                           
win_msg                                                       Sends a message to logged in users on Windows hosts                                    
win_netbios                                                   Manage NetBIOS over TCP/IP settings on Windows                                         
win_nssm                                                      Install a service using NSSM                                                           
win_optional_feature                                          Manage optional Windows features                                                       
win_owner                                                     Set owner                                                                              
win_package                                                   Installs/uninstalls an installable package                                             
win_pagefile                                                  Query or change pagefile configuration                                                 
win_partition                                                 Creates, changes and removes partitions on Windows Server                              
win_path                                                      Manage Windows path environment variables                                              
win_pester                                                    Run Pester tests on Windows hosts                                                      
win_ping                                                      A windows version of the classic ping module                                           
win_power_plan                                                Changes the power plan of a Windows system                                             
win_product_facts                                             Provides Windows product and license information                                       
win_psexec                                                    Runs commands (remotely) as another (privileged) user                                  
win_psmodule                                                  Adds or removes a Windows PowerShell module                                            
win_psrepository                                              Adds, removes or updates a Windows PowerShell repository                               
win_rabbitmq_plugin                                           Manage RabbitMQ plugins                                                                
win_rds_cap                                                   Manage Connection Authorization Policies (CAP) on a Remote Desktop Gateway server      
win_rds_rap                                                   Manage Resource Authorization Policies (RAP) on a Remote Desktop Gateway server        
win_rds_settings                                              Manage main settings of a Remote Desktop Gateway server                                
win_reboot                                                    Reboot a windows machine                                                               
win_reg_stat                                                  Get information about Windows registry keys                                            
win_regedit                                                   Add, change, or remove registry keys and values                                        
win_region                                                    Set the region and format settings                                                     
win_regmerge                                                  Merges the contents of a registry file into the Windows registry                       
win_robocopy                                                  Synchronizes the contents of two directories using Robocopy                            
win_route                                                     Add or remove a static route                                                           
win_say                                                       Text to speech module for Windows to speak messages and optionally play sounds         
win_scheduled_task                                            Manage scheduled tasks                                                                 
win_scheduled_task_stat                                       Get information about Windows Scheduled Tasks                                          
win_security_policy                                           Change local security policy settings                                                  
win_service                                                   Manage and query Windows services                                                      
win_share                                                     Manage Windows shares                                                                  
win_shell                                                     Execute shell commands on target hosts                                                 
win_shortcut                                                  Manage shortcuts on Windows                                                            
win_snmp                                                      Configures the Windows SNMP service                                                    
win_stat                                                      Get information about Windows files                                                    
win_tempfile                                                  Creates temporary files and directories                                                
win_template                                                  Template a file out to a remote server                                                 
win_timezone                                                  Sets Windows machine timezone                                                          
win_toast                                                     Sends Toast windows notification to logged in users on Windows 10 or later hosts       
win_unzip                                                     Unzips compressed files and archives on the Windows node                               
win_updates                                                   Download and install Windows updates                                                   
win_uri                                                       Interacts with webservices                                                             
win_user                                                      Manages local Windows user accounts                                                    
win_user_profile                                              Manages the Windows user profiles                                                      
win_user_right                                                Manage Windows User Rights                                                             
win_wait_for                                                  Waits for a condition before continuing                                                
win_wait_for_process                                          Waits for a process to exist or not exist before continuing                            
win_wakeonlan                                                 Send a magic Wake-on-LAN (WoL) broadcast packet                                        
win_webpicmd                                                  Installs packages using Web Platform Installer command-line                            
win_whoami                                                    Get information about the current user and process                                     
win_xml                                                       Manages XML file content on Windows hosts                                              
zabbix_maintenance                                            Create Zabbix maintenance windows                                                      
[student@katowice ~]$ ansible-doc ping
> PING    (/usr/lib/python3.6/site-packages/ansible/modules/system/ping.py)

        A trivial test module, this module always returns `pong' on successful contact. It does not make sense in
        playbooks, but it is useful from `/usr/bin/ansible' to verify the ability to login and that a usable Python is
        configured. This is NOT ICMP ping, this is just a trivial test module that requires Python on the remote-node. For
        Windows targets, use the [win_ping] module instead. For Network targets, use the [net_ping] module instead.

  * This module is maintained by The Ansible Core Team
OPTIONS (= is mandatory):

- data
        Data to return for the `ping' return value.
        If this parameter is set to `crash', the module will cause an exception.
        [Default: pong]
        type: str


SEE ALSO:
      * Module net_ping
           The official documentation on the net_ping module.
           https://docs.ansible.com/ansible/2.9/modules/net_ping_module.html
      * Module win_ping
           The official documentation on the win_ping module.
           https://docs.ansible.com/ansible/2.9/modules/win_ping_module.html
        A trivial test module, this module always returns `pong' on successful contact. It does not make sense in
        playbooks, but it is useful from `/usr/bin/ansible' to verify the ability to login and that a usable Python is
        configured. This is NOT ICMP ping, this is just a trivial test module that requires Python on the remote-node. For
        Windows targets, use the [win_ping] module instead. For Network targets, use the [net_ping] module instead.

  * This module is maintained by The Ansible Core Team
OPTIONS (= is mandatory):

- data
        Data to return for the `ping' return value.
        If this parameter is set to `crash', the module will cause an exception.
        [Default: pong]
        type: str


SEE ALSO:
      * Module net_ping
           The official documentation on the net_ping module.
           https://docs.ansible.com/ansible/2.9/modules/net_ping_module.html
      * Module win_ping
           The official documentation on the win_ping module.
           https://docs.ansible.com/ansible/2.9/modules/win_ping_module.html


AUTHOR: Ansible Core Team, Michael DeHaan
        METADATA:
          status:
          - stableinterface
          supported_by: core
        
[student@katowice ~]$ ansible all -m ping -a data="Hurra"
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "Hurra"
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "Hurra"
}
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "Hurra"
}
[student@katowice ~]$ ansible-doc user
> USER    (/usr/lib/python3.6/site-packages/ansible/modules/system/user.py)

        Manage user accounts and user attributes. For Windows targets, use the [win_user] module instead.

  * This module is maintained by The Ansible Core Team
OPTIONS (= is mandatory):

- append
        If `yes', add the user to the groups specified in `groups'.
        If `no', user will only be added to the groups specified in `groups', removing them from all other groups.
        Mutually exclusive with `local'
        [Default: False]
        type: bool

- authorization
        Sets the authorization of the user.
        Does nothing when used with other platforms.
        Can set multiple authorizations using comma separation.
        To delete all authorizations, use `authorization='''.
        Currently supported on Illumos/Solaris.
        [Default: (null)]
        type: str
        version_added: 2.8

- comment
        Optionally sets the description (aka `GECOS') of user account.
        [Default: (null)]
        type: str

- create_home
        Unless set to `no', a home directory will be made for the user when the account is created or if the home directory
        does not exist.
        Changed from `createhome' to `create_home' in Ansible 2.5.
        (Aliases: createhome)[Default: True]
        type: bool

- expires
        An expiry time for the user in epoch, it will be ignored on platforms that do not support this.
        Currently supported on GNU/Linux, FreeBSD, and DragonFlyBSD.
        Since Ansible 2.6 you can remove the expiry time specify a negative value. Currently supported on GNU/Linux and
        FreeBSD.
        [Default: (null)]
        type: float
        version_added: 1.9

- force
        This only affects `state=absent', it forces removal of the user and associated directories on supported platforms.
        The behavior is the same as `userdel --force', check the man page for `userdel' on your system for details and
        support.
        When used with `generate_ssh_key=yes' this forces an existing key to be overwritten.
        [Default: False]
        type: bool

- generate_ssh_key
        Whether to generate a SSH key for the user in question.
        This will *not* overwrite an existing SSH key unless used with `force=yes'.
        [Default: False]
        type: bool
        version_added: 0.9

- group
        Optionally sets the user's primary group (takes a group name).
        [Default: (null)]
        type: str

- groups
        List of groups user will be added to. When set to an empty string `''', the user is removed from all groups except
        the primary group.
        Before Ansible 2.3, the only input format allowed was a comma separated string.
        Mutually exclusive with `local'
        [Default: (null)]
        type: list

- hidden
        macOS only, optionally hide the user from the login window and system preferences.
        The default will be `yes' if the `system' option is used.
        [Default: (null)]
        type: bool
        version_added: 2.6

- home
        Optionally set the user's home directory.
        [Default: (null)]
        type: path

- local
        Forces the use of "local" command alternatives on platforms that implement it.
        This is useful in environments that use centralized authentification when you want to manipulate the local users
        (i.e. it uses `luseradd' instead of `useradd').
        This will check `/etc/passwd' for an existing account before invoking commands. If the local account database
        exists somewhere other than `/etc/passwd', this setting will not work properly.
        This requires that the above commands as well as `/etc/passwd' must exist on the target host, otherwise it will be
        a fatal error.
        Mutually exclusive with `groups' and `append'
        [Default: False]
        type: bool
        version_added: 2.4

- login_class
        Optionally sets the user's login class, a feature of most BSD OSs.
        [Default: (null)]
        type: str

- move_home
        If set to `yes' when used with `home: ', attempt to move the user's old home directory to the specified directory
        if it isn't there already and the old home exists.
        [Default: False]
        type: bool

= name
        Name of the user to create, remove or modify.
        (Aliases: user)
        type: str

- non_unique
        Optionally when used with the -u option, this option allows to change the user ID to a non-unique value.
        [Default: False]
        type: bool
        version_added: 1.1

- password
        Optionally set the user's password to this crypted value.
        On macOS systems, this value has to be cleartext. Beware of security issues.
        To create a disabled account on Linux systems, set this to `'!'' or `'*''.
> USER    (/usr/lib/python3.6/site-packages/ansible/modules/system/user.py)

        Manage user accounts and user attributes. For Windows targets, use the [win_user] module instead.

  * This module is maintained by The Ansible Core Team
OPTIONS (= is mandatory):

- append
        If `yes', add the user to the groups specified in `groups'.
        If `no', user will only be added to the groups specified in `groups', removing them from all other groups.
        Mutually exclusive with `local'
        [Default: False]
        type: bool

- authorization
        Sets the authorization of the user.
        Does nothing when used with other platforms.
        Can set multiple authorizations using comma separation.
        To delete all authorizations, use `authorization='''.
        Currently supported on Illumos/Solaris.
        [Default: (null)]
        type: str
        version_added: 2.8

- comment
        Optionally sets the description (aka `GECOS') of user account.
        [Default: (null)]
        type: str

- create_home
...skipping...
EXAMPLES:

- name: Add the user 'johnd' with a specific uid and a primary group of 'admin'
  user:
    name: johnd
    comment: John Doe
    uid: 1040
    group: admin

- name: Add the user 'james' with a bash shell, appending the group 'admins' and 'developers' to the user's groups
  user:
    name: james
    shell: /bin/bash
    groups: admins,developers
    append: yes

- name: Remove the user 'johnd'
  user:
    name: johnd
    state: absent
    remove: yes

- name: Create a 2048-bit SSH key for user jsmith in ~jsmith/.ssh/id_rsa
  user:
    name: jsmith
    generate_ssh_key: yes
    ssh_key_bits: 2048
    ssh_key_file: .ssh/id_rsa

- name: Added a consultant whose account you want to expire
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ 
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
poznan | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ ssh student@wrocalw
ssh: Could not resolve hostname wrocalw: Name or service not known
[student@katowice ~]$ ssh student@wroclaw 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:05:12 2022 from 10.10.1.20
[student@wroclaw ~]$ su -
Password: 
Last login: Thu Feb 24 17:29:09 CET 2022 on tty1
[root@wroclaw ~]# visudo
[root@wroclaw ~]# exit
logout
[student@wroclaw ~]$ exit
logout
Connection to wroclaw closed.
[student@katowice ~]$ ssh student@poznan
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:05:12 2022 from 10.10.1.20
[student@poznan ~]$ su -
Password: 
Last login: Thu Feb 24 17:16:20 CET 2022 from 10.10.1.1 on pts/0
[root@poznan ~]# visudo
[root@poznan ~]# exit
logout
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ ssh student@gdansk 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:05:11 2022 from 10.10.1.20
[student@gdansk ~]$ su -
Password: 
Last login: Thu Feb 24 17:29:51 CET 2022 on tty1
[root@gdansk ~]# visudo
[root@gdansk ~]# exit
logout
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
poznan | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ ssh student@poznan
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:11:21 2022 from 10.10.1.20
[student@poznan ~]$ su -
Password: 
Last login: Mon Dec 12 11:09:34 CET 2022 on pts/0
[root@poznan ~]# usermod -aG wheel student
[root@poznan ~]# id student
uid=1000(student) gid=1000(student) groups=1000(student),10(wheel)
[root@poznan ~]# exit
logout
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ ssh student@gdansk
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:11:21 2022 from 10.10.1.20
[student@gdansk ~]$ su -
Password: 
Last login: Mon Dec 12 11:10:38 CET 2022 on pts/0
[root@gdansk ~]# usermod -aG wheel student
[root@gdansk ~]# id student
uid=1000(student) gid=1000(student) groups=1000(student),10(wheel)
[root@gdansk ~]# exit
logout
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
poznan | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ vi ansible.cfg 
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user =  student
inventory = inventory.cfg

[priviledge_escalatoin]
become = True
become_method = sudo
become_user = root

[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
poznan | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ vim ansible.cfg 
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
gdansk | FAILED! => {
    "msg": "Missing sudo password"
}
poznan | FAILED! => {
    "msg": "Missing sudo password"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" auid=2001'
poznan | FAILED! => {
    "msg": "Missing sudo password"
}
gdansk | FAILED! => {
    "msg": "Missing sudo password"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (user) module: auid Supported parameters include: append, authorization, comment, create_home, expires, force, generate_ssh_key, group, groups, hidden, home, local, login_class, move_home, name, non_unique, password, password_lock, profile, remove, role, seuser, shell, skeleton, ssh_key_bits, ssh_key_comment, ssh_key_file, ssh_key_passphrase, ssh_key_type, state, system, uid, update_password"
}
[student@katowice ~]$ ssh student@poznan
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:23:59 2022 from 10.10.1.20
[student@poznan ~]$ su -
Password: 
su: Authentication failure
[student@poznan ~]$ visudo
visudo: /etc/sudoers: Permission denied
[student@poznan ~]$ su -
Password: 
Last login: Mon Dec 12 11:15:24 CET 2022 on pts/0
Last failed login: Mon Dec 12 11:24:30 CET 2022 on pts/0
There was 1 failed login attempt since the last successful login.
[root@poznan ~]# viudo
-bash: viudo: command not found
[root@poznan ~]# visudo
[root@poznan ~]# exit
logout
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
gdansk | FAILED! => {
    "msg": "Missing sudo password"
}
poznan | FAILED! => {
    "msg": "Missing sudo password"
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "comment": "User_IT",
    "create_home": true,
    "group": 2001,
    "home": "/home/john",
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "system": false,
    "uid": 2001
}
[student@katowice ~]$ ssh root@gdansk
root@gdansk's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:16:08 2022
[root@gdansk ~]# visudo
visudo: /etc/sudoers.tmp unchanged
[root@gdansk ~]# exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
poznan | FAILED! => {
    "msg": "Missing sudo password"
}
gdansk | FAILED! => {
    "msg": "Missing sudo password"
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
[student@katowice ~]$ ssh root@gdansk 
root@gdansk's password: 
Permission denied, please try again.
root@gdansk's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last failed login: Mon Dec 12 11:29:06 CET 2022 from 10.10.1.20 on ssh:notty
There was 1 failed login attempt since the last successful login.
Last login: Mon Dec 12 11:27:12 2022 from 10.10.1.20
[root@gdansk ~]# visudo
[root@gdansk ~]# exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ssh root@gdansk 
root@gdansk's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:29:10 2022 from 10.10.1.20
[root@gdansk ~]# visudo
[root@gdansk ~]# exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
poznan | FAILED! => {
    "msg": "Missing sudo password"
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "comment": "User_IT",
    "create_home": true,
    "group": 2001,
    "home": "/home/john",
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "system": false,
    "uid": 2001
}
[student@katowice ~]$ ssh root@poznan 
root@poznan's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:24:42 2022
[root@poznan ~]# visudo
[root@poznan ~]# exit
logout
Connection to poznan closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "comment": "User_IT",
    "create_home": true,
    "group": 2001,
    "home": "/home/john",
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "system": false,
    "uid": 2001
}
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
[student@katowice ~]$ ssh root@wroclaw 
root@wroclaw's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:07:09 2022
[root@wroclaw ~]# visudo
visudo: /etc/sudoers.tmp unchanged
[root@wroclaw ~]# cp /etc/sudoers /home/student
[root@wroclaw ~]# cd /home/student/
[root@wroclaw student]# ls
sudoers
[root@wroclaw student]# less sudoers 
[root@wroclaw student]# exit
logout
Connection to wroclaw closed.
[student@katowice ~]$ ssh root@poznan 
root@poznan's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:31:18 2022 from 10.10.1.20
[root@poznan ~]# cp /etc/sudoers /home/student
[root@poznan ~]# cd /home/student/
[root@poznan student]# lss sudoers 
-bash: lss: command not found
[root@poznan student]# less sudoers 
[root@poznan student]# exit
logout
Connection to poznan closed.
[student@katowice ~]$ ssh root@gdansk 
root@gdansk's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:30:23 2022 from 10.10.1.20
[root@gdansk ~]# cp /etc/sudoers /home/student/
[root@gdansk ~]# cd /home/student/
[root@gdansk student]# less sudoers 
[root@gdansk student]# exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible all -m user -a 'name=john comment="User_IT" uid=2001'
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "append": false,
    "changed": false,
    "comment": "User_IT",
    "group": 2001,
    "home": "/home/john",
    "move_home": false,
    "name": "john",
    "shell": "/bin/bash",
    "state": "present",
    "uid": 2001
}
[student@katowice ~]$ man usermod
[student@katowice ~]$ ssh root@gdansk 
root@gdansk's password: 
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 11:38:29 2022 from 10.10.1.20
[root@gdansk ~]# cat /etc/groups
cat: /etc/groups: No such file or directory
[root@gdansk ~]# cat /etc/group
root:x:0:
bin:x:1:
daemon:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mem:x:8:
kmem:x:9:
wheel:x:10:student
cdrom:x:11:
mail:x:12:
man:x:15:
dialout:x:18:
floppy:x:19:
games:x:20:
tape:x:33:
video:x:39:
ftp:x:50:
lock:x:54:
audio:x:63:
users:x:100:
nobody:x:65534:
dbus:x:81:
utmp:x:22:
utempter:x:35:
input:x:999:
kvm:x:36:
render:x:998:
systemd-journal:x:190:
systemd-coredump:x:997:
systemd-resolve:x:193:
tss:x:59:
polkitd:x:996:
ssh_keys:x:995:
libstoragemgmt:x:994:
printadmin:x:993:
cockpit-ws:x:992:
cockpit-wsinstance:x:991:
sssd:x:990:
chrony:x:989:
sshd:x:74:
slocate:x:21:
student:x:1000:
john:x:2001:
[root@gdansk ~]# exit
logout
Connection to gdansk closed.
[student@katowice ~]$ 
[student@katowice ~]$ vim inventory.cfg 
[student@katowice ~]$ cat inventory.cfg 
poznan

[bazy]
gdansk

[www]
wroclaw
gdansk
[student@katowice ~]$ ansible www -m dnf -a 'name=httpd starte=present'
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (dnf) module: starte Supported parameters include: allow_downgrade, autoremove, bugfix, conf_file, disable_excludes, disable_gpg_check, disable_plugin, disablerepo, download_dir, download_only, enable_plugin, enablerepo, exclude, install_repoquery, install_weak_deps, installroot, list, lock_timeout, name, releasever, security, skip_broken, state, update_cache, update_only, validate_certs"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Unsupported parameters for (dnf) module: starte Supported parameters include: allow_downgrade, autoremove, bugfix, conf_file, disable_excludes, disable_gpg_check, disable_plugin, disablerepo, download_dir, download_only, enable_plugin, enablerepo, exclude, install_repoquery, install_weak_deps, installroot, list, lock_timeout, name, releasever, security, skip_broken, state, update_cache, update_only, validate_certs"
}
[student@katowice ~]$ vim inventory.cfg 
[student@katowice ~]$ ansible www -m dnf -a 'name=httpd state=present'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: apr-1.6.3-12.el8.x86_64",
        "Installed: apr-util-1.6.1-6.el8.1.x86_64",
        "Installed: apr-util-bdb-1.6.1-6.el8.1.x86_64",
        "Installed: rocky-logos-httpd-86.3-1.el8.noarch",
        "Installed: apr-util-openssl-1.6.1-6.el8.1.x86_64",
        "Installed: httpd-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: httpd-filesystem-2.4.37-51.module+el8.7.0+1059+126e9251.noarch",
        "Installed: httpd-tools-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: mod_http2-1.15.7-5.module+el8.6.0+823+f143cee1.x86_64"
    ]
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: apr-1.6.3-12.el8.x86_64",
        "Installed: apr-util-1.6.1-6.el8.1.x86_64",
        "Installed: apr-util-bdb-1.6.1-6.el8.1.x86_64",
        "Installed: rocky-logos-httpd-86.3-1.el8.noarch",
        "Installed: apr-util-openssl-1.6.1-6.el8.1.x86_64",
        "Installed: httpd-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: httpd-filesystem-2.4.37-51.module+el8.7.0+1059+126e9251.noarch",
        "Installed: httpd-tools-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: mod_http2-1.15.7-5.module+el8.6.0+823+f143cee1.x86_64"
    ]
}
[student@katowice ~]$ vim inventory.cfg 
[student@katowice ~]$ cat inventory.cfg 
poznan

[bazy]
gdansk

[www]
wroclaw
gdansk

[rocky:children]
bazy
www
[student@katowice ~]$ ansible all --list-hosts
  hosts (3):
    poznan
    gdansk
    wroclaw
[student@katowice ~]$ ansible www --list-hosts
  hosts (2):
    wroclaw
    gdansk
[student@katowice ~]$ ansible bazy --list-hosts
  hosts (1):
    gdansk
[student@katowice ~]$ ansible ungrouped --list-hosts
  hosts (1):
    poznan
[student@katowice ~]$ ansible all -m command -a 'cat /etc/centos-release'
gdansk | CHANGED | rc=0 >>
Rocky Linux release 8.5 (Green Obsidian)
poznan | CHANGED | rc=0 >>
Rocky Linux release 8.5 (Green Obsidian)
wroclaw | CHANGED | rc=0 >>
Rocky Linux release 8.5 (Green Obsidian)
[student@katowice ~]$ ansible all -m command -a 'cat /etc/passwd |grep john'
poznan | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bashcat: '|grep': No such file or directory
cat: john: No such file or directorynon-zero return code
gdansk | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologincat: '|grep': No such file or directory
cat: john: No such file or directorynon-zero return code
wroclaw | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologincat: '|grep': No such file or directory
cat: john: No such file or directorynon-zero return code
[student@katowice ~]$ ansible all -m shell command -a 'cat /etc/passwd |grep john'
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD]
               [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts]
               [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k]
               [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER]
               [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS]
               [--sftp-extra-args SFTP_EXTRA_ARGS]
               [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS]
               [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES]
               [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR]
               [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: unrecognized arguments: command
[student@katowice ~]$ ansible www -m shell -a 'cat /etc/passwd |grep john'
wroclaw | CHANGED | rc=0 >>
john:x:2001:2001:User_IT:/home/john:/bin/bash
gdansk | CHANGED | rc=0 >>
john:x:2001:2001:User_IT:/home/john:/bin/bash
[student@katowice ~]$ ansible all -m command -a 'cat /etc/passwd' |grep john
john:x:2001:2001:User_IT:/home/john:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
[student@katowice ~]$ ansible all -m command -a 'cat /etc/passwd' |grep john -o
john
john
john
john
john
john
[student@katowice ~]$ ansible-doc copy
> COPY    (/usr/lib/python3.6/site-packages/ansible/modules/files/copy.py)

        The `copy' module copies a file from the local or remote machine to a location on the remote machine. Use the
        [fetch] module to copy files from remote locations to the local box. If you need variable interpolation in copied
        files, use the [template] module. Using a variable in the `content' field will result in unpredictable output. For
        Windows targets, use the [win_copy] module instead.

  * This module is maintained by The Ansible Core Team
  * note: This module has a corresponding action plugin.

OPTIONS (= is mandatory):

- attributes
        The attributes the resulting file or directory should have.
        To get supported flags look at the man page for `chattr' on the target system.
        This string should contain the attributes in the same order as the one displayed by `lsattr'.
        The `=' operator is assumed as default, otherwise `+' or `-' operators need to be included in the string.
        (Aliases: attr)[Default: (null)]
        type: str
        version_added: 2.3

- backup
        Create a backup file including the timestamp information so you can get the original file back if you somehow
        clobbered it incorrectly.
        [Default: False]
        type: bool
        version_added: 0.7

- checksum
        SHA1 checksum of the file being transferred.
[student@katowice ~]$ ansible www -m copy 0a dest=/tmp
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD]
               [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts]
               [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k]
               [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER]
               [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS]
               [--sftp-extra-args SFTP_EXTRA_ARGS]
               [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS]
               [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES]
               [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR]
               [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: unrecognized arguments: 0a dest=/tmp
[student@katowice ~]$ ansible www -m copy -a dest=/tmp
gdansk | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
wroclaw | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
[student@katowice ~]$ ansible www -m copy -a 'src=invenory.cfg dest=/tmp'
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
wroclaw | FAILED! => {
    "changed": false,
    "msg": "Could not find or access 'invenory.cfg'\nSearched in:\n\t/home/student/files/invenory.cfg\n\t/home/student/invenory.cfg\n\t./files/invenory.cfg\n\t./invenory.cfg on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"
}
An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
gdansk | FAILED! => {
    "changed": false,
    "msg": "Could not find or access 'invenory.cfg'\nSearched in:\n\t/home/student/files/invenory.cfg\n\t/home/student/invenory.cfg\n\t./files/invenory.cfg\n\t./invenory.cfg on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"
}
[student@katowice ~]$ 
[student@katowice ~]$ vim index.html
[student@katowice ~]$ cat in
cat: in: No such file or directory
[student@katowice ~]$ ca in
index.html     inventory.cfg  
[student@katowice ~]$ cat index.html 
Witaj na mojej stronie
[student@katowice ~]$ vim skrypt.sh
[student@katowice ~]$ chomd +x skrypt.sh 
-bash: chomd: command not found
[student@katowice ~]$ chmod u+x skrypt.sh 
[student@katowice ~]$ mo skrypt.sh www.sh
-bash: mo: command not found
[student@katowice ~]$ mv skrypt.sh www.sh
[student@katowice ~]$ ls
ansible.cfg  index.html  inventory.cfg  www.sh
[student@katowice ~]$ ls -ltrh
total 16K
-rw-rw-r--. 1 student student 137 Dec 12 11:22 ansible.cfg
-rw-rw-r--. 1 student student  71 Dec 12 11:59 inventory.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:23 index.html
-rwxrw-r--. 1 student student 280 Dec 12 12:26 www.sh
[student@katowice ~]$ ./www.sh 
ERROR! this task 'dnf' has extra params, which is only allowed in the following modules: ansible.builtin.win_shell, command, script, ansible.legacy.raw, import_role, ansible.builtin.group_by, ansible.builtin.script, ansible.builtin.shell, ansible.builtin.import_tasks, meta, ansible.builtin.raw, ansible.legacy.script, ansible.builtin.include_role, win_shell, ansible.builtin.include, raw, ansible.builtin.include_vars, ansible.legacy.meta, ansible.builtin.meta, ansible.legacy.import_role, ansible.legacy.import_tasks, ansible.builtin.win_command, ansible.legacy.add_host, shell, add_host, ansible.legacy.include_tasks, ansible.legacy.shell, ansible.legacy.include_vars, ansible.legacy.win_command, ansible.builtin.command, group_by, ansible.legacy.include_role, win_command, include_tasks, ansible.builtin.set_fact, ansible.legacy.include, include_vars, ansible.builtin.import_role, include_role, ansible.builtin.add_host, ansible.legacy.group_by, import_tasks, set_fact, ansible.legacy.win_shell, include, ansible.builtin.include_tasks, ansible.legacy.set_fact, ansible.legacy.command
gdansk | FAILED! => {
    "msg": "The module system was not found in configured module paths"
}
wroclaw | FAILED! => {
    "msg": "The module system was not found in configured module paths"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "value of state must be one of: absent, disabled, enabled, present, got: started"
}
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "value of state must be one of: absent, disabled, enabled, present, got: started"
}
[student@katowice ~]$ vi www.sh 
[student@katowice ~]$ ./www.sh 
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "enabled": true,
    "name": "httpd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "network.target remote-fs.target systemd-journald.socket -.mount nss-lookup.target systemd-tmpfiles-setup.service httpd-init.service sysinit.target basic.target tmp.mount system.slice",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "The Apache HTTP Server",
        "DevicePolicy": "auto",
        "Documentation": "man:httpd.service(8)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "Environment": "LANG=C",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -k graceful ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -DFOREGROUND ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/httpd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "httpd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "28",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "httpd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "main",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "-.mount sysinit.target system.slice",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "notify",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "httpd-init.service",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "enabled": true,
    "name": "httpd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "network.target basic.target system.slice remote-fs.target tmp.mount -.mount systemd-journald.socket systemd-tmpfiles-setup.service httpd-init.service nss-lookup.target sysinit.target",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "The Apache HTTP Server",
        "DevicePolicy": "auto",
        "Documentation": "man:httpd.service(8)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "Environment": "LANG=C",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -k graceful ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -DFOREGROUND ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/httpd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "httpd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "28",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "httpd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "main",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice -.mount sysinit.target",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "notify",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "httpd-init.service",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "value of state must be one of: absent, disabled, enabled, present, got: started"
}
wroclaw | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "value of state must be one of: absent, disabled, enabled, present, got: started"
}
[student@katowice ~]$ vi www.sh 
[student@katowice ~]$ ./www.sh 
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "enabled": true,
    "name": "httpd",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "ActiveEnterTimestampMonotonic": "7349671110",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "network.target basic.target systemd-journald.socket nss-lookup.target tmp.mount sysinit.target remote-fs.target systemd-tmpfiles-setup.service httpd-init.service system.slice -.mount",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "yes",
        "AssertTimestamp": "Mon 2022-12-12 12:30:29 CET",
        "AssertTimestampMonotonic": "7349608932",
        "Before": "shutdown.target multi-user.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Mon 2022-12-12 12:30:29 CET",
        "ConditionTimestampMonotonic": "7349608931",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/httpd.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "The Apache HTTP Server",
        "DevicePolicy": "auto",
        "Documentation": "man:httpd.service(8)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "Environment": "LANG=C",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "28471",
        "ExecMainStartTimestamp": "Mon 2022-12-12 12:30:29 CET",
        "ExecMainStartTimestampMonotonic": "7349610071",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -k graceful ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -DFOREGROUND ; ignore_errors=no ; start_time=[Mon 2022-12-12 12:30:29 CET] ; stop_time=[n/a] ; pid=28471 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/httpd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "httpd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Mon 2022-12-12 12:30:29 CET",
        "InactiveExitTimestampMonotonic": "7349610110",
        "InvocationID": "b4dad24f240646bebad8d07f66b1e97a",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "28",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "28471",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "26316800",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "httpd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "main",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target -.mount",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "StateChangeTimestampMonotonic": "7349741734",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StatusText": "Running, listening on: port 80",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "213",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "notify",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "Wants": "httpd-init.service",
        "WatchdogTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "WatchdogTimestampMonotonic": "7349671106",
        "WatchdogUSec": "0"
    }
}
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "enabled": true,
    "name": "httpd",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "ActiveEnterTimestampMonotonic": "7363354608",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "sysinit.target tmp.mount systemd-journald.socket httpd-init.service systemd-tmpfiles-setup.service network.target nss-lookup.target remote-fs.target basic.target -.mount system.slice",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "yes",
        "AssertTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "AssertTimestampMonotonic": "7363287346",
        "Before": "shutdown.target multi-user.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "ConditionTimestampMonotonic": "7363287345",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/httpd.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "The Apache HTTP Server",
        "DevicePolicy": "auto",
        "Documentation": "man:httpd.service(8)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "Environment": "LANG=C",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "28310",
        "ExecMainStartTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "ExecMainStartTimestampMonotonic": "7363288804",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -k graceful ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -DFOREGROUND ; ignore_errors=no ; start_time=[Mon 2022-12-12 12:30:30 CET] ; stop_time=[n/a] ; pid=28310 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/httpd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "httpd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "InactiveExitTimestampMonotonic": "7363288857",
        "InvocationID": "4da975d25b0f4100b971ebaa485cf33d",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "28",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "28310",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "26554368",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "httpd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "main",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice -.mount sysinit.target",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "StateChangeTimestampMonotonic": "7363392519",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StatusText": "Running, listening on: port 80",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "213",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "notify",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "Wants": "httpd-init.service",
        "WatchdogTimestamp": "Mon 2022-12-12 12:30:30 CET",
        "WatchdogTimestampMonotonic": "7363354605",
        "WatchdogUSec": "0"
    }
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "Permanent and Non-Permanent(immediate) operation, Changed service http to enabled"
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "Permanent and Non-Permanent(immediate) operation, Changed service http to enabled"
}
[student@katowice ~]$ ansible all -i invenotry.cfg --list-hosts
[WARNING]: Unable to parse /home/student/invenotry.cfg as an inventory source
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
  hosts (0):
[student@katowice ~]$ ansible all -i inventory.cfg --list-hosts
  hosts (3):
    poznan
    gdansk
    wroclaw
[student@katowice ~]$ vim inventory.cfg 
[student@katowice ~]$ cat inventory.cfg 
wroclaw

[servers]
poznan
gdansk
[student@katowice ~]$ ansible all  -i inventory.cfg --list-host
  hosts (3):
    wroclaw
    poznan
    gdansk
[student@katowice ~]$ ansible ungrouped -i inventory.cfg --list-hosts
  hosts (1):
    wroclaw
[student@katowice ~]$ vim inventory.cfg 
[student@katowice ~]$ cat inventory.cfg 
wroclaw

[db]
poznan

[www]
gdansk

[servers:children]
db
www

[student@katowice ~]$ ansible all -i inventory.cfg --liast-hosts
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD]
               [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts]
               [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k]
               [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER]
               [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS]
               [--sftp-extra-args SFTP_EXTRA_ARGS]
               [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS]
               [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES]
               [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR]
               [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: unrecognized arguments: --liast-hosts
[student@katowice ~]$ ansible all -i inventory.cfg --list-hosts
  hosts (3):
    wroclaw
    poznan
    gdansk
[student@katowice ~]$ ansible db -i inventory.cfg --list-hosts
  hosts (1):
    poznan
[student@katowice ~]$ ansible www -i inventory.cfg --list-hosts
  hosts (1):
    gdansk
[student@katowice ~]$ ansible servers -i inventory.cfg --list-hosts
  hosts (2):
    poznan
    gdansk
[student@katowice ~]$ vim inventory2.cfg
[student@katowice ~]$ cat inventory2.cfg 
[centos]
10.10.1.20
[student@katowice ~]$ ansible all -i inventory2.cfg -m ping
The authenticity of host '10.10.1.20 (10.10.1.20)' can't be established.
ECDSA key fingerprint is SHA256:E1KWkCmzN5ZSbGJV+DTmWvJM41TAWbeO8aQMN9KVQJo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
10.10.1.20 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: Warning: Permanently added '10.10.1.20' (ECDSA) to the list of known hosts.\r\nstudent@10.10.1.20: Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).",
    "unreachable": true
}
[student@katowice ~]$ ansible all -i inventory.cfg -m command -a whoami
wroclaw | CHANGED | rc=0 >>
root
poznan | CHANGED | rc=0 >>
root
gdansk | CHANGED | rc=0 >>
root
[student@katowice ~]$ ansible all -i inventory.cfg -m shell -a id
poznan | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
gdansk | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
wroclaw | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
[student@katowice ~]$ ansible www -i inventory.cfg -m command -a 'cat /etc/passwd |grep student'
gdansk | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologincat: '|grep': No such file or directory
cat: student: No such file or directorynon-zero return code
[student@katowice ~]$ ansible www -i inventory.cfg -m shell -a 'cat /etc/passwd |grep student'
gdansk | CHANGED | rc=0 >>
student:x:1000:1000:student:/home/student:/bin/bash
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ ansible all -m shell -a whoami
wroclaw | CHANGED | rc=0 >>
root
poznan | CHANGED | rc=0 >>
root
gdansk | CHANGED | rc=0 >>
root
[student@katowice ~]$ ansible all --list-hosts
  hosts (3):
    wroclaw
    poznan
    gdansk
[student@katowice ~]$ ansible-doc -l |wc -l
3387
[student@katowice ~]$ ansible-doc -l |wc
   3387   26841  508284
[student@katowice ~]$ ansible-doc copy
> COPY    (/usr/lib/python3.6/site-packages/ansible/modules/files/copy.py)

        The `copy' module copies a file from the local or remote machine to a location on the remote machine. Use the
        [fetch] module to copy files from remote locations to the local box. If you need variable interpolation in copied
        files, use the [template] module. Using a variable in the `content' field will result in unpredictable output. For
        Windows targets, use the [win_copy] module instead.

  * This module is maintained by The Ansible Core Team
  * note: This module has a corresponding action plugin.

OPTIONS (= is mandatory):

- attributes
        The attributes the resulting file or directory should have.
        To get supported flags look at the man page for `chattr' on the target system.
        This string should contain the attributes in the same order as the one displayed by `lsattr'.
        The `=' operator is assumed as default, otherwise `+' or `-' operators need to be included in the string.
        (Aliases: attr)[Default: (null)]
        type: str
        version_added: 2.3

- backup
        Create a backup file including the timestamp information so you can get the original file back if you somehow
        clobbered it incorrectly.
        [Default: False]
        type: bool
        version_added: 0.7

- checksum
        SHA1 checksum of the file being transferred.
[student@katowice ~]$ echo 'Witaj na moim serwerze' > powitanie
[student@katowice ~]$ ls
ansible.cfg  index.html  inventory2.cfg  inventory.cfg  powitanie  www.sh
[student@katowice ~]$ cat powitanie 
Witaj na moim serwerze
[student@katowice ~]$ ansible servers -m copy -a 'dest=/etc/motdsrc=powitanie'
gdansk | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
poznan | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
[student@katowice ~]$ vim inventory2.cfg 
[student@katowice ~]$ cat inventory2.cfg 
[centos]
10.10.1.10
[student@katowice ~]$ ansibl all -i inventory2.cfg  -m ping
-bash: ansibl: command not found
[student@katowice ~]$ ansible all -i inventory2.cfg  -m ping
10.10.1.10 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "ping": "pong"
}
[student@katowice ~]$ ansible all -i inventory.cfg -m command -a whoami
wroclaw | CHANGED | rc=0 >>
root
poznan | CHANGED | rc=0 >>
root
gdansk | CHANGED | rc=0 >>
root
[student@katowice ~]$ ansible all -i inventory.cfg -m shell -a id
wroclaw | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
gdansk | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
poznan | CHANGED | rc=0 >>
uid=0(root) gid=0(root) groups=0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
[student@katowice ~]$ ansible www -i inventory.cfg -m command -a 'cat /etc/passwd |grep student'
gdansk | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologincat: '|grep': No such file or directory
cat: student: No such file or directorynon-zero return code
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ cat inventory.cfg 
wroclaw

[db]
poznan

[www]
gdansk

[servers:children]
db
www

[student@katowice ~]$ ansible servers -i inventory.cfg -m command -a 'cat /etc/passwd |grep student'
gdansk | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologincat: '|grep': No such file or directory
cat: student: No such file or directorynon-zero return code
poznan | FAILED | rc=1 >>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
operator:x:11:0:operator:/root:/sbin/nologin
games:x:12:100:games:/usr/games:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin
tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin
polkitd:x:998:996:User for polkitd:/:/sbin/nologin
libstoragemgmt:x:997:994:daemon account for libstoragemgmt:/var/run/lsm:/sbin/nologin
cockpit-ws:x:996:992:User for cockpit web service:/nonexisting:/sbin/nologin
cockpit-wsinstance:x:995:991:User for cockpit-ws instances:/nonexisting:/sbin/nologin
sssd:x:994:990:User for sssd:/:/sbin/nologin
chrony:x:993:989::/var/lib/chrony:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
student:x:1000:1000:student:/home/student:/bin/bash
john:x:2001:2001:User_IT:/home/john:/bin/bashcat: '|grep': No such file or directory
cat: student: No such file or directorynon-zero return code
[student@katowice ~]$ ansible www -i inventory.cfg -m shell -a 'cat /etc/passwd |grep student'
gdansk | CHANGED | rc=0 >>
student:x:1000:1000:student:/home/student:/bin/bash
[student@katowice ~]$ vat ansible.cfg 
-bash: vat: command not found
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ ansible all --list-hosts
  hosts (3):
    wroclaw
    poznan
    gdansk
[student@katowice ~]$ ansible all -i inventory2.cfg --lisr-hosts
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD]
               [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts]
               [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k]
               [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER]
               [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS]
               [--sftp-extra-args SFTP_EXTRA_ARGS]
               [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS]
               [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES]
               [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR]
               [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: unrecognized arguments: --lisr-hosts
[student@katowice ~]$ ansible all -i inventory2.cfg --list-hosts
  hosts (1):
    10.10.1.10
[student@katowice ~]$ cat ansible.cfg 
[defaults]
remote_user = student
inventory = inventory.cfg

[privilege_escalation]
become = True
become_method = sudo
become_user = root
[student@katowice ~]$ ansible all -m shell -a whoami
wroclaw | CHANGED | rc=0 >>
root
gdansk | CHANGED | rc=0 >>
root
poznan | CHANGED | rc=0 >>
root
[student@katowice ~]$ ansible-doc -l |wc
   3387   26841  508284
[student@katowice ~]$ ansible-doc -l |wc -l
3387
[student@katowice ~]$ ansible-doc copy
> COPY    (/usr/lib/python3.6/site-packages/ansible/modules/files/copy.py)

        The `copy' module copies a file from the local or remote machine to a location on the remote machine. Use the
        [fetch] module to copy files from remote locations to the local box. If you need variable interpolation in copied
        files, use the [template] module. Using a variable in the `content' field will result in unpredictable output. For
        Windows targets, use the [win_copy] module instead.

  * This module is maintained by The Ansible Core Team
  * note: This module has a corresponding action plugin.

OPTIONS (= is mandatory):

- attributes
        The attributes the resulting file or directory should have.
        To get supported flags look at the man page for `chattr' on the target system.
        This string should contain the attributes in the same order as the one displayed by `lsattr'.
        The `=' operator is assumed as default, otherwise `+' or `-' operators need to be included in the string.
        (Aliases: attr)[Default: (null)]
        type: str
        version_added: 2.3

- backup
        Create a backup file including the timestamp information so you can get the original file back if you somehow
        clobbered it incorrectly.
        [Default: False]
        type: bool
        version_added: 0.7

- checksum
        SHA1 checksum of the file being transferred.
[student@katowice ~]$ cat powitanie 
Witaj na moim serwerze
[student@katowice ~]$ ansible servers -m copy -a 'dest=/etc/motdsrc=powitanie'
gdansk | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
poznan | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
[student@katowice ~]$ ansible servers -m shell -a 'cat /etc/motd'
poznan | CHANGED | rc=0 >>

gdansk | CHANGED | rc=0 >>

[student@katowice ~]$ ansible servers -m copy -a 'dest=/etc/motd=powitanie'
poznan | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
gdansk | FAILED! => {
    "changed": false,
    "msg": "src (or content) is required"
}
[student@katowice ~]$ cat /etc/motd
motd    motd.d/ 
[student@katowice ~]$ cat /etc/motd
motd    motd.d/ 
[student@katowice ~]$ cat /etc/motd
[student@katowice ~]$ ssh student@gdansk
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:22:07 2022 from 10.10.1.20
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ cat inventory.cfg 
wroclaw

[db]
poznan

[www]
gdansk

[servers:children]
db
www

[student@katowice ~]$ ansible gdansk 0m copy -a 'dest=/etc/motd content="Sitaj na serwerze Gdansk"'
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD]
               [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts]
               [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k]
               [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER]
               [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS]
               [--sftp-extra-args SFTP_EXTRA_ARGS]
               [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS]
               [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES]
               [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR]
               [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: unrecognized arguments: 0m copy
[student@katowice ~]$ ansible gdansk -m copy -a 'dest=/etc/motd content="Sitaj na serwerze Gdansk"'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "a29b8afadbbb0872fdfcb14d4d0ccf1b389a236a",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "0a35c54dcb49d4392cfd2cba43d5b3da",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670847960.5052886-3989-127074720693595/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible poznan -m copy -a 'dest=/etc/motd content="Sitaj na serwerze Poznan"'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "8b276162cb65ea40faee0c125eecbbde690a5e4b",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "e0e43b77e3de2367c838082c33fb661a",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670847991.4348705-4017-109125420568576/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ssh student@poznan 
Sitaj na serwerze Poznan
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:26:31 2022 from 10.10.1.20
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ ansible poznan -m copy -a 'dest=/etc/motd content="Witaj na serwerze Poznan"'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "005520e4102121453718e559e972bc7eb29ea371",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "de572cfcf9ab8e64fe665625262bc75e",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848010.5062766-4067-152139523469289/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible gdansk -m copy -a 'dest=/etc/motd content="Witaj na serwerze Gdansk"'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "4b1ab89d87ad8958d5831a53b206db81c69e09ea",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "238921475bdb9c908247225bb51602d6",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848018.9572268-4092-26925857872001/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ssh student@gdansk 
Witaj na serwerze Gdansk
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:26:58 2022 from 10.10.1.20
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ssh student@poznan 
Witaj na serwerze Poznan
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:26:50 2022 from 10.10.1.20
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ ansible katowice -m copy -a 'dest=/etc/motd content="Witaj na serwerze Katowice"'
[WARNING]: Could not match supplied host pattern, ignoring: katowice
[WARNING]: No hosts matched, nothing to do
[student@katowice ~]$ ansible all -m shell -a 'cat /etc/motd'
poznan | CHANGED | rc=0 >>
Witaj na serwerze Poznan
gdansk | CHANGED | rc=0 >>
Witaj na serwerze Gdansk
wroclaw | CHANGED | rc=0 >>

[student@katowice ~]$ ansible wroclaw -m copy -a 'dest=/etc/motd content="Witaj na serwerze Wroclaw"'
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "d2bc89e8f31cf36d4a87c6ebc0212fcfc1b5c249",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "bd6f4806d48cef276c7c158c0114ba10",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 25,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848134.9376292-4221-58338431136045/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ssh student@wroclaw 
Witaj na serwerze Wroclaw
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:28:55 2022 from 10.10.1.20
[student@wroclaw ~]$ exit
logout
Connection to wroclaw closed.
[student@katowice ~]$ ansible all -m shell -a 'cat /etc/motd'
poznan | CHANGED | rc=0 >>
Witaj na serwerze Poznan
wroclaw | CHANGED | rc=0 >>
Witaj na serwerze Wroclaw
gdansk | CHANGED | rc=0 >>
Witaj na serwerze Gdansk
[student@katowice ~]$ ansible-doc fetch
> FETCH    (/usr/lib/python3.6/site-packages/ansible/modules/files/fetch.py)

        This module works like [copy], but in reverse. It is used for fetching files from remote machines and storing them
        locally in a file tree, organized by hostname. Files that already exist at `dest' will be overwritten if they are
        different than the `src'. This module is also supported for Windows targets.

  * This module is maintained by The Ansible Core Team
  * note: This module has a corresponding action plugin.

OPTIONS (= is mandatory):

= dest
        A directory to save the file into.
        For example, if the `dest' directory is `/backup' a `src' file named `/etc/profile' on host `host.example.com',
        would be saved into `/backup/host.example.com/etc/profile'. The host name is based on the inventory name.


- fail_on_missing
        When set to `yes', the task will fail if the remote file cannot be read for any reason.
        Prior to Ansible 2.5, setting this would only fail if the source file was missing.
        The default was changed to `yes' in Ansible 2.5.
        [Default: True]
        type: bool
        version_added: 1.1

- flat
        Allows you to override the default behavior of appending hostname/path/to/file to the destination.
        If `dest' ends with '/', it will use the basename of the source file, similar to the copy module.
        This can be useful if working with a single host, or if retrieving files that are uniquely named per host.
        If using multiple hosts with the same filename, the file will be overwritten for each host.
[student@katowice ~]$ ansible servers -m fetch -a 'dest=/tmp src=/etc/hosts'
poznan | CHANGED => {
    "changed": true,
    "checksum": "7335999eb54c15c67566186bdfc46f64e0d5a1aa",
    "dest": "/tmp/poznan/etc/hosts",
    "md5sum": "54fb6627dbaa37721048e4549db3224d",
    "remote_checksum": "7335999eb54c15c67566186bdfc46f64e0d5a1aa",
    "remote_md5sum": null
}
gdansk | CHANGED => {
    "changed": true,
    "checksum": "7335999eb54c15c67566186bdfc46f64e0d5a1aa",
    "dest": "/tmp/gdansk/etc/hosts",
    "md5sum": "54fb6627dbaa37721048e4549db3224d",
    "remote_checksum": "7335999eb54c15c67566186bdfc46f64e0d5a1aa",
    "remote_md5sum": null
}
[student@katowice ~]$ cat inventory.cfg 
wroclaw

[db]
poznan

[www]
gdansk

[servers:children]
db
www

[student@katowice ~]$ ls /tmp
gdansk  poznan
[student@katowice ~]$ ls -ltrh /tmp
total 0
drwxrwxr-x. 3 student student 17 Dec 12 13:30 poznan
drwxrwxr-x. 3 student student 17 Dec 12 13:30 gdansk
[student@katowice ~]$ cat /tmp/gdansk/etc/hosts 
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
[student@katowice ~]$ cat /tmp/poznan/etc/hosts 
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
[student@katowice ~]$ ansbile-doc dnf
-bash: ansbile-doc: command not found
[student@katowice ~]$ ansible-doc dnf
> DNF    (/usr/lib/python3.6/site-packages/ansible/modules/packaging/os/dnf.py)

        Installs, upgrade, removes, and lists packages and groups with the `dnf' package manager.

  * This module is maintained by The Ansible Core Team
OPTIONS (= is mandatory):

- allow_downgrade
        Specify if the named package and version is allowed to downgrade a maybe already installed higher version of that
        package. Note that setting allow_downgrade=True can make this module behave in a non-idempotent way. The task could
        end up with a set of packages that does not match the complete list of specified packages to install (because
        dependencies between the downgraded package and others can cause changes to the packages which were in the earlier
        transaction).
        [Default: no]
        type: bool
        version_added: 2.7

- autoremove
        If `yes', removes all "leaf" packages from the system that were originally installed as dependencies of user-
        installed packages but which are no longer required by any such package. Should be used alone or when state is
        `absent'
        [Default: no]
        type: bool
        version_added: 2.4

- bugfix
        If set to `yes', and `state=latest' then only installs updates that have been marked bugfix related.
        Note that, similar to ``dnf upgrade-minimal``, this filter applies to dependencies as well.
        [Default: no]
        type: bool
[student@katowice ~]$ ansible-doc yum
> YUM    (/usr/lib/python3.6/site-packages/ansible/modules/packaging/os/yum.py)

        Installs, upgrade, downgrades, removes, and lists packages and groups with the `yum' package manager. This module
        only works on Python 2. If you require Python 3 support see the [dnf] module.

  * This module is maintained by The Ansible Core Team
  * note: This module has a corresponding action plugin.

OPTIONS (= is mandatory):

- allow_downgrade
        Specify if the named package and version is allowed to downgrade a maybe already installed higher version of that
        package. Note that setting allow_downgrade=True can make this module behave in a non-idempotent way. The task could
        end up with a set of packages that does not match the complete list of specified packages to install (because
        dependencies between the downgraded package and others can cause changes to the packages which were in the earlier
        transaction).
        [Default: no]
        type: bool
        version_added: 2.4

- autoremove
        If `yes', removes all "leaf" packages from the system that were originally installed as dependencies of user-
        installed packages but which are no longer required by any such package. Should be used alone or when state is
        `absent'
        NOTE: This feature requires yum >= 3.4.3 (RHEL/CentOS 7+)
        [Default: no]
        type: bool
        version_added: 2.7

- bugfix
[student@katowice ~]$ ansible servers -m dnf -a 'name=nfs-utils state=latest'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: keyutils-1.5.10-9.el8.x86_64",
        "Installed: libverto-0.3.2-2.el8.x86_64",
        "Installed: libevent-2.1.8-5.el8.x86_64",
        "Installed: libverto-libev-0.3.2-2.el8.x86_64",
        "Installed: libev-4.24-6.el8.x86_64",
        "Installed: rpcbind-1.2.5-10.el8.x86_64",
        "Installed: nfs-utils-1:2.3.3-57.el8.x86_64",
        "Installed: gssproxy-0.8.0-21.el8.x86_64",
        "Removed: libverto-0.3.0-5.el8.x86_64"
    ]
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: libverto-libev-0.3.2-2.el8.x86_64",
        "Installed: libev-4.24-6.el8.x86_64",
        "Installed: rpcbind-1.2.5-10.el8.x86_64",
        "Installed: nfs-utils-1:2.3.3-57.el8.x86_64",
        "Installed: gssproxy-0.8.0-21.el8.x86_64",
        "Installed: keyutils-1.5.10-9.el8.x86_64",
        "Installed: libverto-0.3.2-2.el8.x86_64",
        "Installed: libevent-2.1.8-5.el8.x86_64",
        "Removed: libverto-0.3.0-5.el8.x86_64"
    ]
}
[student@katowice ~]$ ansible servers -m yum -a 'name=cifs-utils state=latest'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: cifs-utils-6.8-3.el8.x86_64"
    ]
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: cifs-utils-6.8-3.el8.x86_64"
    ]
}
[student@katowice ~]$ ansible gdansk -m dnf -a 'name=@postgresql:9.6/clinet state=present'
gdansk | FAILED! => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "failures": [
        "postgresql:9.6/clinet Problems in request:\nmissing groups or modules: postgresql:9.6/clinet"
    ],
    "msg": "Failed to install some of the specified packages",
    "rc": 1,
    "results": []
}
[student@katowice ~]$ ansible gdansk -m dnf -a 'name=@postgresql:9.6/client state=present'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Module postgresql:9.6/client installed.",
        "Installed: postgresql-9.6.22-1.module+el8.5.0+687+7cd82e08.x86_64",
        "Installed: libpq-13.5-1.el8.x86_64"
    ]
}
[student@katowice ~]$ ansible gdansk -m dnf -a 'autoremove=yes'
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": []
}
[student@katowice ~]$ ansible poznan -m shell -a 'dnf grouplist'
[WARNING]: Consider using the dnf module rather than running 'dnf'.  If you need to use command because dnf is insufficient you can add 'warn: false' to
this command task or set 'command_warnings=False' in ansible.cfg to get rid of this message.
poznan | CHANGED | rc=0 >>
Last metadata expiration check: 2:28:11 ago on Mon 12 Dec 2022 11:10:34 AM CET.
Available Environment Groups:
   Server with GUI
   Minimal Install
   Workstation
   Virtualization Host
   Custom Operating System
Installed Environment Groups:
   Server
Installed Groups:
   Headless Management
Available Groups:
   Container Management
   .NET Core Development
   RPM Development Tools
   Development Tools
   Graphical Administration Tools
   Legacy UNIX Compatibility
   Network Servers
   Scientific Support
   Security Tools
   Smart Card Support
   System Tools
[student@katowice ~]$ ansible poznan -m dnf -a 'name="@Container Management" state=present'
^C [ERROR]: User interrupted execution
[student@katowice ~]$ ansible servers -m copy -a 'dest=/etc/motd src=powitanie'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "3861433c32deabaa4c68bc2e7597119005537b0d",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "22bd5ac3c5f23d68c60c0ca193e9952a",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 23,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848878.9022226-4612-3018321784381/source",
    "state": "file",
    "uid": 0
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "3861433c32deabaa4c68bc2e7597119005537b0d",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "22bd5ac3c5f23d68c60c0ca193e9952a",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 23,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848878.8877783-4614-89831894172699/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ssh student@poznan 
Witaj na moim serwerze
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:41:19 2022 from 10.10.1.20
[student@poznan ~]$ exit
logout
Connection to poznan closed.
[student@katowice ~]$ ssh student@gdansk
Witaj na moim serwerze
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 13:41:19 2022 from 10.10.1.20
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ ansible poznan -m copy -a 'dest=/etc/motd content="Witaj na serwerze Poznan"'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "005520e4102121453718e559e972bc7eb29ea371",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "de572cfcf9ab8e64fe665625262bc75e",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848960.6680036-4709-181071534325814/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible poznan -m copy -a 'dest=/etc/motd content="Witaj na serwerze Katowice"'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "3db06b82a18f5d7bbf08f582ea56814944f1a4ac",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "0f4b7aa3b0259811ee3c081aea67ecc9",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 26,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848970.8413188-4737-8030926777968/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible poznan -m copy -a 'dest=/etc/motd content="Witaj na serwerze Poznan"'
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "005520e4102121453718e559e972bc7eb29ea371",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "de572cfcf9ab8e64fe665625262bc75e",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848974.6602304-4762-220415253648688/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible gdansk -m copy -a 'dest=/etc/motd content="Witaj na serwerze Gdansk"'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "4b1ab89d87ad8958d5831a53b206db81c69e09ea",
    "dest": "/etc/motd",
    "gid": 0,
    "group": "root",
    "md5sum": "238921475bdb9c908247225bb51602d6",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:etc_t:s0",
    "size": 24,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670848995.3225923-4787-44906640348912/source",
    "state": "file",
    "uid": 0
}
[student@katowice ~]$ ansible all -m shell -a 'cat /etc/motd'
poznan | CHANGED | rc=0 >>
Witaj na serwerze Poznan
gdansk | CHANGED | rc=0 >>
Witaj na serwerze Gdansk
wroclaw | CHANGED | rc=0 >>
Witaj na serwerze Wroclaw
[student@katowice ~]$ ansible poznan -m dnf -a 'name="@Container Management" state=present'
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "msg": "Nothing to do",
    "rc": 0,
    "results": [
        "Group container-management installed."
    ]
}
[student@katowice ~]$ ansible katowice -m systemd -a 'name=crond state=restarted'
[WARNING]: Could not match supplied host pattern, ignoring: katowice
[WARNING]: No hosts matched, nothing to do
[student@katowice ~]$ ansible wroclaw -m systemd -a 'name=crond state=restarted'
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "name": "crond",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "ActiveEnterTimestampMonotonic": "14615857",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "sysinit.target nss-user-lookup.target auditd.service systemd-user-sessions.service basic.target ypbind.service time-sync.target systemd-journald.socket system.slice",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "yes",
        "AssertTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "AssertTimestampMonotonic": "14602201",
        "Before": "shutdown.target multi-user.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "ConditionTimestampMonotonic": "14602199",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlGroup": "/system.slice/crond.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "Command Scheduler",
        "DevicePolicy": "auto",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/crond (ignore_errors=no)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "895",
        "ExecMainStartTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "ExecMainStartTimestampMonotonic": "14615800",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/crond ; argv[]=/usr/sbin/crond -n $CRONDARGS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/crond.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "crond.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "InactiveExitTimestampMonotonic": "14615857",
        "InvocationID": "99db6b163f234d37848cab5c16025af0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "process",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "895",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "1708032",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "crond.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "no",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice",
        "Restart": "on-failure",
        "RestartUSec": "30s",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "StateChangeTimestampMonotonic": "14615857",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "1",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "simple",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "enabled",
        "UtmpMode": "init",
        "WantedBy": "multi-user.target",
        "WatchdogTimestamp": "Mon 2022-12-12 10:28:02 CET",
        "WatchdogTimestampMonotonic": "14615854",
        "WatchdogUSec": "0"
    }
}
[student@katowice ~]$ ansible wroclaw -m service -a 'name=chronyd state=restarted'
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "name": "chronyd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "systemd-tmpfiles-setup.service basic.target sysinit.target system.slice sntp.service ntpd.service tmp.mount systemd-journald.socket -.mount ntpdate.service",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target systemd-timesyncd.service ntpd.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "NTP client/server",
        "DevicePolicy": "auto",
        "Documentation": "man:chronyd(8) man:chrony.conf(5)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/chronyd (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper remove-daemon-state ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/chronyd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "chronyd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "chronyd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/chrony/chronyd.pid",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "yes",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "full",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "system.slice sysinit.target -.mount",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
[student@katowice ~]$ ansible servers -m firewalld -a 'service=ftp state=enabled permanent=yes immediate=yes'
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "Permanent and Non-Permanent(immediate) operation, Changed service ftp to enabled"
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "Permanent and Non-Permanent(immediate) operation, Changed service ftp to enabled"
}
[student@katowice ~]$ mv www.sh skrypt.sh
[student@katowice ~]$ ls -ltrh
total 24K
-rw-rw-r--. 1 student student 137 Dec 12 11:22 ansible.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:23 index.html
-rwxrw-r--. 1 student student 281 Dec 12 12:31 skrypt.sh
-rw-rw-r--. 1 student student  63 Dec 12 12:48 inventory.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:59 powitanie
-rw-rw-r--. 1 student student  20 Dec 12 13:01 inventory2.cfg
[student@katowice ~]$ chomd u+x skrypt.sh 
-bash: chomd: command not found
[student@katowice ~]$ chmod u+x skrypt.sh 
[student@katowice ~]$ ls -ltrh
total 24K
-rw-rw-r--. 1 student student 137 Dec 12 11:22 ansible.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:23 index.html
-rwxrw-r--. 1 student student 281 Dec 12 12:31 skrypt.sh
-rw-rw-r--. 1 student student  63 Dec 12 12:48 inventory.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:59 powitanie
-rw-rw-r--. 1 student student  20 Dec 12 13:01 inventory2.cfg
[student@katowice ~]$ vi skrypt.sh 
[student@katowice ~]$ cat skrypt.sh 
#!/bin/bash

#instalacja Japacza
ansible poznan -m dnf -a 'name=httpd state=latest'

#konfigurcja firewalld
ansible poznan -m firewalld -a 'service=http permanent=yes immediate=yes state=enabled'

#Zawartosc index.html
ansible poznan -m copy -a 'dest=/var/www/html/index.html content="Witaj w swiecie Ansible"'

#konfigurcja firewalla
ansible poznan -m systemd -a 'state=enabled enabled=yes name=httpd'
[student@katowice ~]$ vi skrypt.sh 
[student@katowice ~]$ cat skrypt.sh 
#!/bin/bash

#instalacja Japacza
ansible poznan -m dnf -a 'name=httpd state=latest'

#konfigurcja firewalld
ansible poznan -m firewalld -a 'service=http permanent=yes immediate=yes state=enabled'

#Zawartosc index.html
ansible poznan -m copy -a 'dest=/var/www/html/index.html content="Witaj w swiecie Ansible"'

#uruchamianie serwisu
ansible poznan -m systemd -a 'state=started enabled=yes name=httpd'
[student@katowice ~]$ ls -ltrh
total 24K
-rw-rw-r--. 1 student student 137 Dec 12 11:22 ansible.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:23 index.html
-rw-rw-r--. 1 student student  63 Dec 12 12:48 inventory.cfg
-rw-rw-r--. 1 student student  23 Dec 12 12:59 powitanie
-rw-rw-r--. 1 student student  20 Dec 12 13:01 inventory2.cfg
-rwxrw-r--. 1 student student 402 Dec 12 14:03 skrypt.sh
[student@katowice ~]$ ./skrypt.sh 
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "",
    "rc": 0,
    "results": [
        "Installed: apr-1.6.3-12.el8.x86_64",
        "Installed: apr-util-1.6.1-6.el8.1.x86_64",
        "Installed: apr-util-bdb-1.6.1-6.el8.1.x86_64",
        "Installed: rocky-logos-httpd-86.3-1.el8.noarch",
        "Installed: apr-util-openssl-1.6.1-6.el8.1.x86_64",
        "Installed: httpd-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: httpd-filesystem-2.4.37-51.module+el8.7.0+1059+126e9251.noarch",
        "Installed: httpd-tools-2.4.37-51.module+el8.7.0+1059+126e9251.x86_64",
        "Installed: mod_http2-1.15.7-5.module+el8.6.0+823+f143cee1.x86_64"
    ]
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "msg": "Permanent and Non-Permanent(immediate) operation, Changed service http to enabled"
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "checksum": "030c7ed0d92c595e3ad2abd2275ebe62c3d1c442",
    "dest": "/var/www/html/index.html",
    "gid": 0,
    "group": "root",
    "md5sum": "4f76e18e0682c8df5c26a246cba07fce",
    "mode": "0644",
    "owner": "root",
    "secontext": "system_u:object_r:httpd_sys_content_t:s0",
    "size": 23,
    "src": "/home/student/.ansible/tmp/ansible-tmp-1670850255.0157423-5065-19853410696240/source",
    "state": "file",
    "uid": 0
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "enabled": true,
    "name": "httpd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "tmp.mount systemd-journald.socket sysinit.target -.mount basic.target nss-lookup.target systemd-tmpfiles-setup.service remote-fs.target network.target system.slice httpd-init.service",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "yes",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "shutdown.target",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "The Apache HTTP Server",
        "DevicePolicy": "auto",
        "Documentation": "man:httpd.service(8)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "Environment": "LANG=C",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecReload": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -k graceful ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStart": "{ path=/usr/sbin/httpd ; argv[]=/usr/sbin/httpd $OPTIONS -DFOREGROUND ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/httpd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "httpd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "mixed",
        "KillSignal": "28",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "httpd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "main",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "no",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "no",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice -.mount",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "notify",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "disabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "Wants": "httpd-init.service",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
[student@katowice ~]$ curl -s https://poznan
[student@katowice ~]$ curl -s http://poznan
Witaj w swiecie Ansible[student@katowice ~]$ 
[student@katowice ~]$ date
Mon Dec 12 14:04:46 CET 2022
[student@katowice ~]$ ansible all -m shell -a 'date'
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:04:55 CET 2022
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:04:56 CET 2022
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:04:55 CET 2022
[student@katowice ~]$ cat chrony.sh
cat: chrony.sh: No such file or directory
[student@katowice ~]$ vi chronyd.sh
[student@katowice ~]$ ansible all -m shell -a 'date'
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:07:25 CET 2022
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:07:25 CET 2022
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:07:27 CET 2022
[student@katowice ~]$ ansible all -m cron -a 'name="updte systemu" hour="2" minute="30" job="yum -y update" weekday="6-7"'
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
[student@katowice ~]$ vim chrony.sh
[student@katowice ~]$ chmod +x chrony.sh 
[student@katowice ~]$ ./chrony.sh 
localhost | FAILED! => {
    "changed": false,
    "module_stderr": "sudo: a password is required\n",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 1
}
localhost | FAILED! => {
    "changed": false,
    "module_stderr": "sudo: a password is required\n",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 1
}
localhost | FAILED! => {
    "changed": false,
    "module_stderr": "sudo: a password is required\n",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 1
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "backup": "",
    "changed": true,
    "msg": "line added"
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "backup": "",
    "changed": true,
    "msg": "line added"
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "backup": "",
    "changed": true,
    "msg": "line added"
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "name": "chronyd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "ntpd.service tmp.mount systemd-tmpfiles-setup.service basic.target system.slice -.mount sysinit.target systemd-journald.socket ntpdate.service sntp.service",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "ntpd.service systemd-timesyncd.service shutdown.target",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "NTP client/server",
        "DevicePolicy": "auto",
        "Documentation": "man:chronyd(8) man:chrony.conf(5)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/chronyd (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper remove-daemon-state ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/chronyd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "chronyd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "chronyd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/chrony/chronyd.pid",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "yes",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "full",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target -.mount system.slice",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
poznan | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "name": "chronyd",
    "state": "started",
    "status": {
        "ActiveEnterTimestampMonotonic": "0",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "inactive",
        "After": "ntpdate.service systemd-journald.socket tmp.mount basic.target sntp.service systemd-tmpfiles-setup.service ntpd.service -.mount system.slice sysinit.target",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "no",
        "AssertTimestampMonotonic": "0",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "no",
        "ConditionTimestampMonotonic": "0",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "systemd-timesyncd.service shutdown.target ntpd.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "NTP client/server",
        "DevicePolicy": "auto",
        "Documentation": "man:chronyd(8) man:chrony.conf(5)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/chronyd (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "0",
        "ExecMainStartTimestampMonotonic": "0",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStartPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "ExecStopPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper remove-daemon-state ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/chronyd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "chronyd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestampMonotonic": "0",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "0",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "[not set]",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "chronyd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/chrony/chronyd.pid",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "yes",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "full",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target -.mount system.slice",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestampMonotonic": "0",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "dead",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "[not set]",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "WatchdogTimestampMonotonic": "0",
        "WatchdogUSec": "0"
    }
}
wroclaw | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "name": "chronyd",
    "state": "started",
    "status": {
        "ActiveEnterTimestamp": "Mon 2022-12-12 13:52:42 CET",
        "ActiveEnterTimestampMonotonic": "12294583622",
        "ActiveExitTimestampMonotonic": "0",
        "ActiveState": "active",
        "After": "ntpd.service basic.target -.mount systemd-journald.socket system.slice tmp.mount sysinit.target ntpdate.service sntp.service systemd-tmpfiles-setup.service",
        "AllowIsolate": "no",
        "AllowedCPUs": "",
        "AllowedMemoryNodes": "",
        "AmbientCapabilities": "",
        "AssertResult": "yes",
        "AssertTimestamp": "Mon 2022-12-12 13:52:41 CET",
        "AssertTimestampMonotonic": "12294523602",
        "Before": "shutdown.target",
        "BlockIOAccounting": "no",
        "BlockIOWeight": "[not set]",
        "CPUAccounting": "no",
        "CPUAffinity": "",
        "CPUAffinityFromNUMA": "no",
        "CPUQuotaPerSecUSec": "infinity",
        "CPUQuotaPeriodUSec": "infinity",
        "CPUSchedulingPolicy": "0",
        "CPUSchedulingPriority": "0",
        "CPUSchedulingResetOnFork": "no",
        "CPUShares": "[not set]",
        "CPUUsageNSec": "[not set]",
        "CPUWeight": "[not set]",
        "CacheDirectoryMode": "0755",
        "CanFreeze": "yes",
        "CanIsolate": "no",
        "CanReload": "no",
        "CanStart": "yes",
        "CanStop": "yes",
        "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf",
        "CollectMode": "inactive",
        "ConditionResult": "yes",
        "ConditionTimestamp": "Mon 2022-12-12 13:52:41 CET",
        "ConditionTimestampMonotonic": "12294523554",
        "ConfigurationDirectoryMode": "0755",
        "Conflicts": "systemd-timesyncd.service ntpd.service shutdown.target",
        "ControlGroup": "/system.slice/chronyd.service",
        "ControlPID": "0",
        "DefaultDependencies": "yes",
        "DefaultMemoryLow": "0",
        "DefaultMemoryMin": "0",
        "Delegate": "no",
        "Description": "NTP client/server",
        "DevicePolicy": "auto",
        "Documentation": "man:chronyd(8) man:chrony.conf(5)",
        "DynamicUser": "no",
        "EffectiveCPUs": "",
        "EffectiveMemoryNodes": "",
        "EnvironmentFiles": "/etc/sysconfig/chronyd (ignore_errors=yes)",
        "ExecMainCode": "0",
        "ExecMainExitTimestampMonotonic": "0",
        "ExecMainPID": "31689",
        "ExecMainStartTimestamp": "Mon 2022-12-12 13:52:41 CET",
        "ExecMainStartTimestampMonotonic": "12294559037",
        "ExecMainStatus": "0",
        "ExecStart": "{ path=/usr/sbin/chronyd ; argv[]=/usr/sbin/chronyd $OPTIONS ; ignore_errors=no ; start_time=[Mon 2022-12-12 13:52:41 CET] ; stop_time=[Mon 2022-12-12 13:52:41 CET] ; pid=31687 ; code=exited ; status=0 }",
        "ExecStartPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper update-daemon ; ignore_errors=no ; start_time=[Mon 2022-12-12 13:52:41 CET] ; stop_time=[Mon 2022-12-12 13:52:42 CET] ; pid=31691 ; code=exited ; status=0 }",
        "ExecStopPost": "{ path=/usr/libexec/chrony-helper ; argv[]=/usr/libexec/chrony-helper remove-daemon-state ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
        "FailureAction": "none",
        "FileDescriptorStoreMax": "0",
        "FragmentPath": "/usr/lib/systemd/system/chronyd.service",
        "FreezerState": "running",
        "GID": "[not set]",
        "GuessMainPID": "yes",
        "IOAccounting": "no",
        "IOSchedulingClass": "0",
        "IOSchedulingPriority": "0",
        "IOWeight": "[not set]",
        "IPAccounting": "no",
        "IPEgressBytes": "18446744073709551615",
        "IPEgressPackets": "18446744073709551615",
        "IPIngressBytes": "18446744073709551615",
        "IPIngressPackets": "18446744073709551615",
        "Id": "chronyd.service",
        "IgnoreOnIsolate": "no",
        "IgnoreSIGPIPE": "yes",
        "InactiveEnterTimestampMonotonic": "0",
        "InactiveExitTimestamp": "Mon 2022-12-12 13:52:41 CET",
        "InactiveExitTimestampMonotonic": "12294526087",
        "InvocationID": "95a4922394cc444390a33fb4259d27b7",
        "JobRunningTimeoutUSec": "infinity",
        "JobTimeoutAction": "none",
        "JobTimeoutUSec": "infinity",
        "KeyringMode": "private",
        "KillMode": "control-group",
        "KillSignal": "15",
        "LimitAS": "infinity",
        "LimitASSoft": "infinity",
        "LimitCORE": "infinity",
        "LimitCORESoft": "0",
        "LimitCPU": "infinity",
        "LimitCPUSoft": "infinity",
        "LimitDATA": "infinity",
        "LimitDATASoft": "infinity",
        "LimitFSIZE": "infinity",
        "LimitFSIZESoft": "infinity",
        "LimitLOCKS": "infinity",
        "LimitLOCKSSoft": "infinity",
        "LimitMEMLOCK": "65536",
        "LimitMEMLOCKSoft": "65536",
        "LimitMSGQUEUE": "819200",
        "LimitMSGQUEUESoft": "819200",
        "LimitNICE": "0",
        "LimitNICESoft": "0",
        "LimitNOFILE": "262144",
        "LimitNOFILESoft": "1024",
        "LimitNPROC": "7760",
        "LimitNPROCSoft": "7760",
        "LimitRSS": "infinity",
        "LimitRSSSoft": "infinity",
        "LimitRTPRIO": "0",
        "LimitRTPRIOSoft": "0",
        "LimitRTTIME": "infinity",
        "LimitRTTIMESoft": "infinity",
        "LimitSIGPENDING": "7760",
        "LimitSIGPENDINGSoft": "7760",
        "LimitSTACK": "infinity",
        "LimitSTACKSoft": "8388608",
        "LoadState": "loaded",
        "LockPersonality": "no",
        "LogLevelMax": "-1",
        "LogRateLimitBurst": "0",
        "LogRateLimitIntervalUSec": "0",
        "LogsDirectoryMode": "0755",
        "MainPID": "31689",
        "MemoryAccounting": "yes",
        "MemoryCurrent": "1323008",
        "MemoryDenyWriteExecute": "no",
        "MemoryHigh": "infinity",
        "MemoryLimit": "infinity",
        "MemoryLow": "0",
        "MemoryMax": "infinity",
        "MemoryMin": "0",
        "MemorySwapMax": "infinity",
        "MountAPIVFS": "no",
        "MountFlags": "",
        "NFileDescriptorStore": "0",
        "NRestarts": "0",
        "NUMAMask": "",
        "NUMAPolicy": "n/a",
        "Names": "chronyd.service",
        "NeedDaemonReload": "no",
        "Nice": "0",
        "NoNewPrivileges": "no",
        "NonBlocking": "no",
        "NotifyAccess": "none",
        "OOMScoreAdjust": "0",
        "OnFailureJobMode": "replace",
        "PIDFile": "/run/chrony/chronyd.pid",
        "PermissionsStartOnly": "no",
        "Perpetual": "no",
        "PrivateDevices": "no",
        "PrivateMounts": "no",
        "PrivateNetwork": "no",
        "PrivateTmp": "yes",
        "PrivateUsers": "no",
        "ProtectControlGroups": "no",
        "ProtectHome": "yes",
        "ProtectKernelModules": "no",
        "ProtectKernelTunables": "no",
        "ProtectSystem": "full",
        "RefuseManualStart": "no",
        "RefuseManualStop": "no",
        "RemainAfterExit": "no",
        "RemoveIPC": "no",
        "Requires": "sysinit.target system.slice -.mount",
        "RequiresMountsFor": "/var/tmp",
        "Restart": "no",
        "RestartUSec": "100ms",
        "RestrictNamespaces": "no",
        "RestrictRealtime": "no",
        "RestrictSUIDSGID": "no",
        "Result": "success",
        "RootDirectoryStartOnly": "no",
        "RuntimeDirectoryMode": "0755",
        "RuntimeDirectoryPreserve": "no",
        "RuntimeMaxUSec": "infinity",
        "SameProcessGroup": "no",
        "SecureBits": "0",
        "SendSIGHUP": "no",
        "SendSIGKILL": "yes",
        "Slice": "system.slice",
        "StandardError": "inherit",
        "StandardInput": "null",
        "StandardInputData": "",
        "StandardOutput": "journal",
        "StartLimitAction": "none",
        "StartLimitBurst": "5",
        "StartLimitIntervalUSec": "10s",
        "StartupBlockIOWeight": "[not set]",
        "StartupCPUShares": "[not set]",
        "StartupCPUWeight": "[not set]",
        "StartupIOWeight": "[not set]",
        "StateChangeTimestamp": "Mon 2022-12-12 13:52:42 CET",
        "StateChangeTimestampMonotonic": "12294583622",
        "StateDirectoryMode": "0755",
        "StatusErrno": "0",
        "StopWhenUnneeded": "no",
        "SubState": "running",
        "SuccessAction": "none",
        "SyslogFacility": "3",
        "SyslogLevel": "6",
        "SyslogLevelPrefix": "yes",
        "SyslogPriority": "30",
        "SystemCallErrorNumber": "0",
        "TTYReset": "no",
        "TTYVHangup": "no",
        "TTYVTDisallocate": "no",
        "TasksAccounting": "yes",
        "TasksCurrent": "1",
        "TasksMax": "12416",
        "TimeoutStartUSec": "1min 30s",
        "TimeoutStopUSec": "1min 30s",
        "TimerSlackNSec": "50000",
        "Transient": "no",
        "Type": "forking",
        "UID": "[not set]",
        "UMask": "0022",
        "UnitFilePreset": "enabled",
        "UnitFileState": "disabled",
        "UtmpMode": "init",
        "WatchdogTimestamp": "Mon 2022-12-12 13:52:41 CET",
        "WatchdogTimestampMonotonic": "12294559059",
        "WatchdogUSec": "0"
    }
}
[student@katowice ~]$ vim chrony.sh
[student@katowice ~]$ ansible all -m shell -a 'chronyc sources'
gdansk | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^* icemen.pl                     2   6    37    62    +50us[ -387us] +/-   22ms
^? ntp.tktelekom.pl              2   7   100   133  +7488us[-1562ms] +/-   53ms
^? case.eigensystems.pl          2   6     2   133  -1853us[-1572ms] +/-   38ms
^- 46.175.224.7.maxnet.net.>     4   6    37    61  +1678us[+1678us] +/-   61ms
^? base.domain1.local            0   7     0     -     +0ns[   +0ns] +/-    0ns
poznan | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^? ntp.tktelekom.pl              0   7     0     -     +0ns[   +0ns] +/-    0ns
^? case.eigensystems.pl          2   7   140   131  -2925us[-1247ms] +/-   38ms
^* 46.175.224.7.maxnet.net.>     4   6    37    62  +3782ns[-1425us] +/-   59ms
^- icemen.pl                     2   6    37    62  -1720us[-1720us] +/-   24ms
^? base.domain1.local            0   7     0     -     +0ns[   +0ns] +/-    0ns
wroclaw | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^* 46.175.224.7.maxnet.net.>     4   6    37    61    +35us[  +17us] +/-   60ms
^- icemen.pl                     2   6    37    62  -1884us[-1884us] +/-   24ms
^? case.eigensystems.pl          0   7     0     -     +0ns[   +0ns] +/-    0ns
^? ntp.tktelekom.pl              0   6     0     -     +0ns[   +0ns] +/-    0ns
^? base.domain1.local            0   7     0     -     +0ns[   +0ns] +/-    0ns
[student@katowice ~]$ ansible all -m shell -a 'date'
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:19:04 CET 2022
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:19:04 CET 2022
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:19:04 CET 2022
[student@katowice ~]$ ansible all -m cron -a 'name="updte systemu" hour="2" minute="30" job="yum -y update" weekday="6-7"'
wroclaw | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
poznan | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
gdansk | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": false,
    "envs": [],
    "jobs": [
        "updte systemu"
    ]
}
[student@katowice ~]$ vim montowanie.sh
[student@katowice ~]$ chomd +x montowanie.sh 
-bash: chomd: command not found
[student@katowice ~]$ chmod +x montowanie.sh 
[student@katowice ~]$ ./montowanie.sh 
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "disk": {
        "dev": "/dev/vdb",
        "logical_block": 512,
        "model": "Virtio Block Device",
        "physical_block": 512,
        "size": 10485760.0,
        "table": "msdos",
        "unit": "kib"
    },
    "partitions": [
        {
            "begin": 1024.0,
            "end": 2097152.0,
            "flags": [],
            "fstype": "",
            "name": "",
            "num": 1,
            "size": 2096128.0,
            "unit": "kib"
        }
    ],
    "script": "unit KiB mklabel msdos mkpart primary 0% 2GiB"
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "gid": 0,
    "group": "root",
    "mode": "0644",
    "owner": "root",
    "path": "/backup",
    "secontext": "unconfined_u:object_r:default_t:s0",
    "size": 6,
    "state": "directory",
    "uid": 0
}
gdansk | CHANGED => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/libexec/platform-python"
    },
    "changed": true,
    "dump": "0",
    "fstab": "/etc/fstab",
    "fstype": "xfs",
    "name": "/backup",
    "opts": "defaults",
    "passno": "0",
    "src": "/dev/vdb1"
}
[student@katowice ~]$ ssh root#@gdansk 
root#@gdansk's password: 
Permission denied, please try again.
root#@gdansk's password: 
Permission denied, please try again.
root#@gdansk's password: 

[student@katowice ~]$ ssh student#@gdansk 
student#@gdansk's password: 
Permission denied, please try again.
student#@gdansk's password: 
Permission denied, please try again.
student#@gdansk's password: 

[student@katowice ~]$ ssh student@gdansk
Witaj na serwerze Gdansk
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Mon Dec 12 14:24:48 2022 from 10.10.1.20
[student@gdansk ~]$ su -
Password: 
Last login: Mon Dec 12 11:52:29 CET 2022 from 10.10.1.20 on pts/0
[root@gdansk ~]# lsblk
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sr0          11:0    1 1024M  0 rom  
vda         252:0    0   20G  0 disk 
├─vda1      252:1    0    1G  0 part /boot
└─vda2      252:2    0   19G  0 part 
  ├─rl-root 253:0    0   17G  0 lvm  /
  └─rl-swap 253:1    0    2G  0 lvm  [SWAP]
vdb         252:16   0   10G  0 disk 
└─vdb1      252:17   0    2G  0 part 
[root@gdansk ~]# exit
logout
[student@gdansk ~]$ exit
logout
Connection to gdansk closed.
[student@katowice ~]$ cat skrypt.sh 
#!/bin/bash

#instalacja Japacza
ansible poznan -m dnf -a 'name=httpd state=latest'

#konfigurcja firewalld
ansible poznan -m firewalld -a 'service=http permanent=yes immediate=yes state=enabled'

#Zawartosc index.html
ansible poznan -m copy -a 'dest=/var/www/html/index.html content="Witaj w swiecie Ansible"'

#uruchamianie serwisu
ansible poznan -m systemd -a 'state=started enabled=yes name=httpd'
[student@katowice ~]$ ansible all -m shell -a 'chronyc sources'
gdansk | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^* icemen.pl                     2   6   377    64  -2371us[-2376us] +/-   27ms
^- ntp.tktelekom.pl              2   6   277    54  +7180us[+7180us] +/-   48ms
^- case.eigensystems.pl          2   6   377    73  -2545us[-2549us] +/-   36ms
^+ 46.175.224.7.maxnet.net.>     4   7   377     2  +2258us[+2258us] +/-   53ms
^? base.domain1.local            0   9     0     -     +0ns[   +0ns] +/-    0ns
wroclaw | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^+ 46.175.224.7.maxnet.net.>     4   7   377    66  +1858us[+1858us] +/-   51ms
^+ icemen.pl                     2   6   377   130   -206us[ +131us] +/-   26ms
^+ 185.231.150.1                 2   7   377    70  -2027us[-2027us] +/-   63ms
^* case.eigensystems.pl          2   7   377   126  -1010us[ -673us] +/-   35ms
^? base.domain1.local            0   9     0     -     +0ns[   +0ns] +/-    0ns
poznan | CHANGED | rc=0 >>
MS Name/IP address         Stratum Poll Reach LastRx Last sample               
===============================================================================
^- 96-7.cpe.smnt.pl              2   6   377     3  -5784us[-5784us] +/-   53ms
^- case.eigensystems.pl          2   7   376   193  -2403us[-2570us] +/-   34ms
^+ 46.175.224.7.maxnet.net.>     4   6   377     1  +1057us[ +810us] +/-   52ms
^* icemen.pl                     2   6   377     0  -2052us[-2298us] +/-   23ms
^? base.domain1.local            0   9     0     -     +0ns[   +0ns] +/-    0ns
[student@katowice ~]$ date
Mon Dec 12 14:38:13 CET 2022
[student@katowice ~]$ ansible all -m shell -a 'date'
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:38:18 CET 2022
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:38:18 CET 2022
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:38:18 CET 2022
[student@katowice ~]$ ansible all -m shell -a 'date'
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:38:28 CET 2022
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:38:28 CET 2022
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:38:28 CET 2022
[student@katowice ~]$ date
Mon Dec 12 14:38:30 CET 2022
[student@katowice ~]$ ansible all -m shell -a 'date'; date
gdansk | CHANGED | rc=0 >>
Mon Dec 12 14:42:37 CET 2022
poznan | CHANGED | rc=0 >>
Mon Dec 12 14:42:37 CET 2022
wroclaw | CHANGED | rc=0 >>
Mon Dec 12 14:42:37 CET 2022
Mon Dec 12 14:42:37 CET 2022
[student@katowice ~]$ 

