---
- name: Implementacja serwera vsftpd na serwerze poznan
  hosts: poznan
  vars:
   ftp_package: vsftpd
   ftp_firewall: ftp
   ftp_service: vsftpd
  tasks:
    - name: instalacja pakietu {{ ftp_package }}
      yum:
       name: "{{ ftp_package }}"
       state: latest
    
    - name: uruchomienie i autostart uslugi {{ ftp_service }}
      service:
       name: "{{ ftp_service }}"
       state: started
       enabled: true
    - name: firewall dla uslugi {{ ftp_firewall }}
      firewalld:
       service: "{{ ftp_firewall }}"
       permanent: yes
       state: enabled
       immediate: true
